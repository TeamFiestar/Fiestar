<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <link rel="stylesheet" href="/css/myPage/myPage-Purchase.css">
  <link rel="stylesheet" href="/css/myPage/myPage-navi.css">
  <link rel="stylesheet" href="/css/common/artistPageHeader.css">
  <link rel="stylesheet" href="/css/common/footer.css" />



</head>

<body>
  <th:block th:replace="~{common/artistPageHeader}"></th:block>

  <div class="all">
    <div class="BgImage">
      <img th:unless="${session.loginMember.memberBackImage == null}" th:src="${session.loginMember.memberBackImage}"
        width="100%" height="100%" id="memberBackImage">
      <img th:if="${session.loginMember.memberBackImage == null}" th:src="#{user.default.backImg}" width="100%"
        height="100%" id="memberBackImage" style="object-fit:cover">
    </div>

    <div class="main" th:with="purchaseList=${map.purchaseList}, pagination=${map.pagination}">
      <th:block th:replace="~{myPage/myPage-navi2}"></th:block>

      <div class="main-2">
        <div class="contentTitle">
          <h2>구매 내역</h2>
        </div>
        <div class="content">

          <div class="buyAll" th:if="${#lists.size(purchaseList) == 0}">
            <div class="buyDate">
              <li>[2023.11.23]</li>
            </div>
            <div class="deliver">
              <li>[배송중]</li>
            </div>
            <div class="buyContent">
              <div class="buy-img">
                <img src="/image/상품.png" width="100%" height="100%">
              </div>
              <div class="item">
                <div class="itemName">
                  <li>LE SSERAFIM 2024 SEASON'S GREETINGS</li>
                </div>
                <div class="itemCount">
                  <li>상품개수 : 3개</li>
                </div>
                <div class="itemprice">
                  <li>총 상품 금액 : 45,000원</li>
                </div>
              </div>
            </div>
            <hr class="myPageHr" width="750px">
          </div>

          <div class="buyAll" th:unless="${#lists.size(purchaseList) == 0}">
            <div th:each="PurchaseList : ${purchaseList}" th:object="${PurchaseList}">
              <div class="buyDate">
                <li th:text="*{PurchaseDate}">[2023.11.23]</li>
              </div>
              <div class="deliver">
                <li th:text="*{PurchaseStatus}">[배송중]</li>
              </div>
              <div class="buyContent">
                <div class="buy-img">
                  <img th:src="*{ProductImage}" width="100%" height="100%">
                </div>
                <div class="item">
                  <div class="itemName">
                    <h3 th:text="*{ProductName}">LE SSERAFIM 2024 SEASON'S GREETINGS</h3>
                  </div>
                  <div class="itemCount">
                    <li th:text="*{PurcharseQuantity}">상품개수 : 3개</li>
                  </div>
                  <div class="itemprice">
                    <li th:text="*{PurcharsePrice}">총 상품 금액 : 45,000원</li>
                  </div>
                </div>
              </div>
            </div>
            <hr class="myPageHr" width="750px">
          </div>

          <div class="pagination-area" th:if="${#lists.size(purchaseList) > 0}">
            <ul class="pagination">

              <!-- 첫 페이지로 이동 -->
              <li>
                <a th:href="@{/myPage/myPage-Purchase(cp=1)}">&lt;&lt;</a>
              </li>

              <!-- 이전 목록 마지막 번호로 이동 -->
              <li>
                <a th:href="@{/myPage/myPage-Purchase(cp=${pagination.prevPage})}">&lt;</a>
              </li>

              <th:block th:each="i : ${#numbers.sequence(pagination.startPage, pagination.endPage, 1)}">

                <!-- 현재 보고있는 페이지 -->
                <li th:if="${i == pagination.currentPage}"><a class="current" th:text="${i}">1</a></li>

                <!-- 보고있지 않은 페이지 -->
                <li th:unless="${i == pagination.currentPage}"><a th:href="@{/myPage/myPage-Purchase(cp=${i})}"
                    th:text="${i}">2</a>
                </li>
              </th:block>

              <!-- 다음 목록 시작 번호로 이동 -->
              <li><a th:href="@{/myPage/myPage-Purchase(cp=${pagination.nextPage})}">&gt;</a></li>

              <!-- 끝 페이지로 이동 -->
              <li><a th:href="@{/myPage/myPage-Purchase(cp=${pagination.maxPage})}">&gt;&gt;</a></li>
            </ul>
          </div>

        </div>
      </div>

    </div>

    <th:block th:replace="~{common/footer}"></th:block>

</body>

</html>