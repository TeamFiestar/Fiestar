<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>feed</title>
    <link rel="stylesheet" href="/css/artistHomepage/feed.css">
    <link rel="stylesheet" href="/css/common/atristPageHeader.css">
    <link rel="stylesheet" href="/css/common/artistPageNavi.css">
</head>

<body>

    <th:block th:replace="~{common/atristPageHeader}"></th:block>
    <th:block th:replace="~{common/artistPageNavi}"></th:block>

    <!-- 게시글 작성 modal -->
    <form th:action="|/${artistGroupTitle}/insert|" method="POST" enctype="multipart/form-data">
      <div class="feedWriteModal" id="feedWrite">
        
            <div id="feedWriteModal" class="modal-body">
                <button class="modalCloseButton" data-target="feedWrite" onclick="wcloseModal()">X</button>
                <div class="modal-write">
                    <h1>게시글 작성</h1>
                    <p>LE SSERAFIM</p>

                    <div class="modal-feedWrite">
                        <textarea name="feedWrite2" id="feedWrite2" placeholder="피에스타에 게시글을 작성해보세요!!"></textarea>
                    </div>

                    <div class="boardImg-container">
                        <h4>이미지 추가하기</h4>
                        <div class="img-box">

                            <div class="boardImg">
                                <label for="img1">
                                    <img class="preview" src="">
                                </label>
                                <input type="file" name="images" class="inputImage" id="img1" accept="image/*">
                                <span class="delete-image">&times;</span>
                            </div>

                            <div class="boardImg">
                                <label for="img2">
                                    <img class="preview" src="">
                                </label>
                                <input type="file" name="images" class="inputImage" id="img2" accept="image/*">
                                <span class="delete-image">&times;</span>
                            </div>

                            <div class="boardImg">
                                <label for="img3">
                                    <img class="preview" src="">
                                </label>
                                <input type="file" name="images" class="inputImage" id="img3" accept="image/*">
                                <span class="delete-image">&times;</span>
                            </div>

                            <div class="boardImg">
                                <label for="img4">
                                    <img class="preview" src="">
                                </label>
                                <input type="file" name="images" class="inputImage" id="img4" accept="image/*">
                                <span class="delete-image">&times;</span>
                            </div>
                            <div class="boardImg">
                                <label for="img5">
                                    <img class="preview" src="">
                                </label>
                                <input type="file" name="images" class="inputImage" id="img5" accept="image/*">
                                <span class="delete-image">&times;</span>
                            </div>
                            <div class="boardImg">
                                <label for="img6">
                                    <img class="preview" src="">
                                </label>
                                <input type="file" name="images" class="inputImage" id="img6" accept="image/*">
                                <span class="delete-image">&times;</span>
                            </div>
                            <div class="boardImg">
                                <label for="img7">
                                    <img class="preview" src="">
                                </label>
                                <input type="file" name="images" class="inputImage" id="img7" accept="image/*">
                                <span class="delete-image">&times;</span>
                            </div>
                            <div class="boardImg">
                                <label for="img8">
                                    <img class="preview" src="">
                                </label>
                                <input type="file" name="images" class="inputImage" id="img8" accept="image/*">
                                <span class="delete-image">&times;</span>
                            </div>
                        </div>
                    </div>

                    <div class="modal-btn">
                        <button>등록하기</button>
                    </div>
                </div>
            </div>
        </form>
     </div>
   

    <!-- 게시글 상세보기 modal -->
    <div class="feedDetailModal" id="feedDetail">
        <div id="dmodal-body">
            <div>
                <button class="closeModal" data-target="feedDetail" onclick="closeModal()">X</button>
            </div>
            <div class="feedContent">
                <div class="profile">
                    <div><a href="#"><i class="fa-regular fa-circle-user fa-2xl" style="color: #7743DB"></i></a></i>
                    </div>
                    <div>
                        <Strong>카즈하</Strong>
                        <!-- 아티스트인 경우에만 보임 -->
                        <i class="fa-solid fa-circle-check" style="color: #7743DB"></i>
                        <p>1시간 전</p>
                    </div>
                    <div class="element">
                        <input id="check-btn" type="checkbox" />
                        <label for="check-btn"><i class="fa-solid fa-ellipsis-vertical fa-2x"></i></label>
                        <ul class="menubars">
                            <a href="#">
                                <li>신고하기</li>
                            </a>
                            <a href="#">
                                <li>수정하기</li>
                            </a>
                            <a href="#">
                                <li>삭제하기</li>
                            </a>
                        </ul>
                    </div>
                </div>

                <!-- 이미지 없음 -->
                <div class="content">

                    <!-- 이미지가 있을 경우 -->
                    <div class="feedImg">
                        <img src="/artistHomepageImg/1.jpg" width="500px">
                    </div>
                    <div class="feedContent">
                        LE SSERAFIM (르세라핌)은 대한민국의 걸그룹이다. 세상의 시선에 흔들리지 않고 두려움 없이
                        앞으로 나아가겠다는 자기 확신과 강한 의지를 바탕으로 비상할 준비를 마친 그룹은 2022년 5월, 대망의 첫 미니 앨범 [FEARLESS]를 공개하며 가요계에 출사표를
                        던졌다.
                        방시혁 총괄 프로듀서의 진두지휘 아래 얼터너티브 팝, 디스코-펑크, R&B 등 다양한 장르의 음악이 그룹만의 스타일로 탄생했고 멤버 김채원과 허윤진은 수록곡 'Blue
                        Flame'의 작사에 참여하는 등 앨범에 각별한 애정을 내비치며 새로운 여정의 설렘과 각오를 담았다.
                        데뷔와 동시에 각종 신기록을 쏟아낸 그룹은 같은 해 10월 두 번째 EP [ANTIFRAGILE]로 성공 가도를 이어가며 강력한 팬덤을 구축해 나갔다. 2023년 5월에는
                        첫 번째
                        정규 앨범 [UNFORGIVEN]을 발매, 타인의 평가에 개의치 않고 르세라핌 만의 길을 개척하겠다는 각오를 주제로 삼았고 월드 클래스 뮤지션들이 참여해 그룹의 위상을
                        입증했다.
                    </div>
                </div>
            </div>

            <div class="comment-container">
                <div class="profile">
                    <div><a href="#"><i class="fa-regular fa-circle-user fa-2xl" style="color: #7743DB"></i></a></i>
                    </div>
                    <div>
                        <Strong>카즈하</Strong>
                        <!-- 아티스트인 경우에만 보임 -->
                        <i class="fa-solid fa-circle-check" style="color: #7743DB"></i>
                        <p>1시간 전</p>
                    </div>
                </div>

                <div class="textbox">
                    저도요!!!!!!!!!
                </div>

                <form action="">
                    <div class="comment-write">
                        <textarea class="comment-input" placeholder="댓글을 입력하세요"></textarea>
                        <button class="submitBtn"><i class="fa-solid fa-arrow-up"></i></button>
                    </div>
                </form>
            </div>
        </div>
    </div>


    <section id="board">

        <!-- 아티스트 프로필  페이지로 이동-->
        <section id="teamProfile">
            <a href=""><img src="/artistHomepageImg/lesserafim.jpg" alt="아티스트프로필이미지" id="artistImg"></a>
            <a href="">
                <p id="artistName">LE SSERAFIM</p>
            </a>
        </section>

        <!-- 게시글 작성 -->
        <section id="postingSection" data-target="feedWrite" onclick="wopenModal()">
            <i class="fa-regular fa-circle-user fa-2xl"></i>
            <a href="#">피에스타에 포스트를 남겨보세요.</a>
            <i class="fa-solid fa-image fa-2xl"></i>
        </section>


        <!-- 게시글 목록(사진 + 글) -->
        <section id="publishedImage" th:with="boardList=${map.boardList}" th:each="board : ${boardList}" th:object="${board}">

            <!-- 작성자 프로필 -->
            <section class="profile">
                <div>
                    <!-- <i class="fa-regular fa-circle-user fa-2xl" style="color: #7743DB"></i> -->
                    <img th:unless="*{memberProfile}" th:src="#{user.default.image}">
                    <img th:if="*{memberProfile}" th:src="*{memberProfile}">
                </div>
                <div>
                    <Strong th:text="*{artistGroupTitle}">카즈하</Strong>
                    <!-- 아티스트인 경우에만 보임 -->
                    <i th:if="${member.memberAuthority== 2}" class="fa-solid fa-circle-check" style="color: #7743DB"></i>
                    <p th:text="*{boardEnrollDate}">1시간 전</p>
                </div>
            </section>

            <!-- 이미지가 있는 경우 -->
            <th:block th:if="${#lists.size(board.imageList) > 0}">
                <section id="imgage-container">
                    <div class="img-container"  data-target="feedDetail" onclick="openModal()">
                        <div><a class="prev" onclick="plusSlides(-1)"><i class="fa-solid fa-chevron-left fa-2xl"
                                    style="color: #7743DB"></i></a></div>
                        <div class="slideshow-container">
                            <div class="slide">
                                <img src="/artistHomepageImg/1.jpg" width="100%">
                            </div>
        
                        </div>
                        <div><a class="next" onclick="plusSlides(1)"><i class="fa-solid fa-angle-right fa-2xl"
                                    style="color: #7743DB"></i></a></div>
                    </div>

                    <div style="text-align:center" class="dot-container">
                        <span class="dot" onclick="currentSlide(1)"></span>
                        <span class="dot" onclick="currentSlide(2)"></span>
                        <span class="dot" onclick="currentSlide(3)"></span>
                        <span class="dot" onclick="currentSlide(4)"></span>
                        <span class="dot" onclick="currentSlide(5)"></span>
                        <span class="dot" onclick="currentSlide(6)"></span>
                        <span class="dot" onclick="currentSlide(7)"></span>
                        <span class="dot" onclick="currentSlide(8)"></span>
                    </div>
                </section>
            </th:block>

            <section class="textarea" th:text="*{boardContent}">
                내용
            </section>

            <!-- 댓글 좋아요 -->
            <section class="reaction">
                <i class="fa-solid fa-heart fa-xl" style="color: #7743DB"></i> <span th:text="*{likeCount}">234</span>
                <a href="#"  data-target="feedDetail" onclick="openModal()"><i
                        class="fa-regular fa-comment fa-xl" style="color: #7743DB"></i> <span th:text="*{commentCount}">234</span></a>
            </section>
        </section>
    </section>

    </section>

    <script src="https://kit.fontawesome.com/2434a52ecc.js" crossorigin="anonymous"></script>
    <script src="/js/artistHomepage/feed.js"></script>

    <script th:inline="javascript">


        // messages.properties의 값을 얻어와 전역 변수로 선언
        const defaultImage = /*[[#{user.default.image}]]*/ "기본 이미지";
      
        
      
      </script>




</body>

</html>