<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Document</title>
   <script src="https://kit.fontawesome.com/d6c32512de.js" crossorigin="anonymous"></script>

   <link rel="stylesheet" href="/css/cart/checkout.css">

   <th:block th:replace="~{common/shopHeader}"></th:block>

</head>

<body>

   <!-- 헤더 -->

   <section class="frame">

      <form action="checkoutResult" method="post" id="purchaseBtn">

         <div class="content">

            <div class="cart-area">
               <h1 class="cart">CHECKOUT</h1>
            </div>

            <!-- <div class="cart-list"> -->

            <div class="select-all">
               <span>주문 상품</span>
            </div>

            <!-- 상품 1개 개별 영역 -->
            <hr>

            <div class="item-list1" th:each="checkoutItem : ${checkout}">

               <div class="item-list">

                  <!-- 1번 -->

                  <!-- 이미지 영역 -->

                  <img src="/images/keyring.png" alt="">


                  <!-- 제품 상세 -->

                  <div class="item-text">

                     <div class="item-name">
                        <div th:text="${checkoutItem.productName}" class="keyring"></div>
                        

                        <!-- 장바구니 번호 -->

                        <span th:text="${checkoutItem.cartNo}" class="cartNo"></span>
                     </div>

                     <div>
                       <span class="optionTag"> 옵션: </span> <span th:text="${checkoutItem.productOptionName}" class="option-text"></span>
                        
                     </div>

                  </div>

                  <!-- 상품 수량 -->

                  <!-- <span class="item-amount">수량: 3</span> -->

                  <span class="countNPrice">

                     <span th:text="${checkoutItem.productCount}" class="item-count"></span>
                     
                     <!-- 개별 상품 가격 -->
                     
                     <span th:text="${checkoutItem.productPrice}" class="default-price"></span>
                     
                  </span>

               </div>

               <hr>
            </div>


            <!-- ----------------------------------------------------------------------- -->


            <div class="check-list">

               <!-- 총 상품 가격 -->
            <div class="totalQuantityNprice">

               <span style="display: flex;">
                  총 수량 <span style="margin-left: 2px;">(</span>
                 <span th:text="${totalQuantity}"> </span>
                  )
               </span>  
               
               
               
               <!-- <span class="check-price">총 상품 가격()</span> -->
               <div class="totalItemPrice">                     
                  총 상품 가격 $ <span th:text="${totalPrice}"> </span>
               </div> 
               
               
            </div>

               <!-- 개별 상품 가격 -->

               <hr class="check-list-line" style="height: 1px;">

            </div>



<!-- -------------------------------------------------------------------------------------------------------------------------------------------------------------------------- -->
            <hr>

            <div class="order-list">

               <span class="order-name" style="font-weight: bold;">주문자 정보</span>

               <button class="name-btn" type="button" id="nameChangeBtn">변경</button>
               

               <div style="font-size: 16px;" class="orderInfo">

                  <div style="margin-top: 44px;">주문자 이름</div>
                  
                  <label class="name-input">
                     <!-- <input type="text" placeholder="*필수 작성 항목입니다." class="order-input" style="padding-left: 8px;" th:value="${session.loginMember.memberNickname}" name="memberName"> -->
                      <!-- <div th:text="${session.loginMember.memberAddress}" class="default-price"></div> -->
                      <input type="text" placeholder="*필수 작성 항목입니다." class="order-input" style="padding-left: 8px;"
                       name="order-name" th:value="${session.loginMember.memberNickname}" id="nameInput">
               
                     <!-- <input type="text" placeholder="*필수 작성 항목입니다." class="order-input" style="padding-left: 8px;"> -->
                  </label>


                  <div class="phonenumber-input-area">
                     <!-- <div th:text="${session.loginMember.memberPhoneNumber}" class="default-price"></div> -->
                     전화번호

                     <div>

                        <label class="phonenumber-input">
                           <input type="text" placeholder="*필수 작성 항목입니다." class="order-input" style="padding-left: 8px;" maxlength="14" >
                        </label>
                     </div>
                  </div>

               </div>

            </div>

            <!-- <div class="name-input-area">
                     </div>
                        
               </div> -->

            


            <!-- 주소 API  -->


            <div class="shipping-list">
               <!-- <span th:text="${checkoutItem.memberAddress}" class="default-price"></span> -->
               <!-- <span class="shipping-name" style="font-weight: bold;">배송지</span> -->


               <!-- <button class="shipping-btn">변경</button> -->






               <div class="shipping-input">


                  <div class="shipping-address">
                     배송주소
                     <button type="button" class="address-btn" onclick="sample6_execDaumPostcode()" id="addressChange">주소 찾기</button>

                     <div class="address-input">
                        
                           
                        </div>
                        <label for="">
   
                           <input type="text" placeholder="*필수 작성 항목입니다." class="order-input" style="padding-left: 8px;" th:value="${session.loginMember.memberAddress}" 
                           name="memberAddress" id="sample6_address">

                        </label>
                     </div>
                  </div>

                  <div class="address-detail">


                     상세주소

                     <div class="input-detail">

                        <label for="">

                           <input type="text" placeholder="*필수 작성 항목입니다." class="order-input" 
                           style="padding-left: 8px;" name="memberAddress" id="sample6_detailAddress">
                           
                        </label>

                     </div>

                     우편번호

                     <div class="input-detail">

                        <label for="">

                           <input type="text" placeholder="*필수 작성 항목입니다." class="order-input" 
                           style="padding-left: 8px;" name="memberAddress" id="sample6_postcode">
                           
                        </label>

                     </div>

                  </div>

               </div>

            </div>

            <hr class="check-list-line" style="color: rgb(115, 130, 92);">


            <div class="price-detail">

               <!-- <div class="detail"> -->
               
               <span class="detail-price" style="font-weight: bold;">결제 금액</span>

               <div class="detail">

                  <div style="margin-bottom: 20px;">

                     <span class="product-price" style="font-size: 16px;">상품 가격 </span>
                     <span th:text="${totalPrice}" class="totalProduct-price"></span>
                     
                  </div>
                  
                  <div>
                     <span>배송비</span>
                     <span style="margin-left: 984px;">2500</span>
                  </div>

               </div>
               </div>

            </div>





            <!-- 총 상품 가격 -->




            <!-- 상품 수량 + & -  -->

            <!-- 개별 상품 취소 -->





            <div class="total">
               
               <div class="total-price" style="letter-spacing: -1.6px;">총 결제 금액</div>

               <p> <span th:text="${purchasePrice}" class="purchasePrice"></span> </p>

            </div>


            <!-- 결제 수단 -->
            <div class="payment-method">
               <span class="ass" style="font-weight: bold;">결제 수단</span>

               <div class="cash">
                  <input type="radio">
                  계좌 입금
               </div>

               <!-- </div> -->

            </div>

            <hr>

            <div class="tou"> 유의사항 및 이용약관
               <li>
                  이용가능 카드사 : 모든 국내 신용/체크카드
               </li>

               <li>
                  주문 상품 정보, 가격, 배송, 반품, 교환, 환불 정책에 동의
               </li>
            </div>

            <div class="checkout-area">

               <button type="submit" class="checkOut-btn">결제하기</button>


            </div>

         </div>
<!--          
         <div class="myPage-row info-address">
            <input type="text" name="memberAddress" placeholder="우편번호" id="postcode">
            <button type="button" onclick="sample6_execDaumPostcode()">검색</button>
        </div>

        <div class="myPage-row info-address">
            <input type="text" name="memberAddress"  placeholder="도로명/지번 주소" id="address">                
        </div>

        <div class="myPage-row info-address">
            <input type="text" name="memberAddress"  placeholder="상세 주소" id="detailAddress">                
        </div> -->


      </form>

   </section>


   <script src="/js/cart/checkout.js"> </script>
   <script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"> </script>


   <script th:inline="javascript">
      /*<![CDATA[*/
      // 서버에서 전달받은 주소를 JavaScript 변수에 할당
      let addressString = /*[[${session.loginMember.memberAddress}]]*/ "04540^^^서울 중구 남대문로 120^^^A강의장 2층";
      let addressParts = addressString.split("^^^");
  
      // 각 부분을 해당하는 입력 필드에 채우기
      document.getElementById("sample6_address").value = addressParts[1] || ""; // 도로명 주소
      document.getElementById("sample6_detailAddress").value = addressParts[2] || ""; // 상세 주소
      document.getElementById("sample6_postcode").value = addressParts[0] || ""; // 우편번호
      /*]]>*/
  </script>

</body>

</html>